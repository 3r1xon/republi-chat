<form class="rep-textbox" [formGroup]="form">

  <button
    [disabled]="enabled"
    (click)="uploadIMG()"
    [style.cursor]="enabled ? 'pointer' : 'not-allowed'"
  >
    <mat-icon
      [style.opacity]="enabled ? '1' : '0.1'"
    >
      attach_file
    </mat-icon>
  </button>

  <rep-textarea
    formControlName="text"
    (send)="send($event)"
    [enabled]="enabled"
    [maxLength]="msgMaxLength"
    [(text)]="text"
    placeholder="Send a message..."
    [style.animation]="trigger ? 'shake 200ms' : ''"
    [style.opacity]="form.valid ? '1' : '0.5'"
    (keydown.ArrowUp)="setPreviousText()"
    (keydown.ArrowDown)="setNextText()"
  >
  </rep-textarea>

  <button
    [disabled]="!enabled && !form.valid"
    (click)="send($event)"
    [style.cursor]="enabled && form.valid ? 'pointer' : 'not-allowed'"
  >
    <mat-icon
      [style.opacity]="form.valid ? '1' : '0.1'"
    >
      send
    </mat-icon>
  </button>

  <span *ngIf="showSpamProtection" class="anti-spam">
    <mat-icon>timelapse</mat-icon>
    <small>Spam protection...</small>
  </span>

</form>
