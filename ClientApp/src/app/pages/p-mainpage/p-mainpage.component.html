<div id="mainpage" [@.disabled]="!hasLoaded">

  <rep-entries
    [(show)]="roomCreation"
  >

    <form class="create-room" [formGroup]="form">

      <h1>Create room</h1>

      <rep-input
        formControlName="roomName"
        placeholder="Room name"
        maxLength="30"
        required="true"
      >
      </rep-input>

      Auto join

      <rep-toggle
        formControlName="autoJoin"
      ></rep-toggle>

      <rep-button
        background="success"
        [enabled]="canSave()"
        (onClick)="save()"
      >
        Create
      </rep-button>

    </form>

  </rep-entries>

  <mtd-status-bar [user]="_user.currentUser"></mtd-status-bar>

  <div class="main">

    <mtd-channels *ngIf="_utils.settings.showChannels" @openLeft></mtd-channels>

    <div
      *ngIf="_utils.settings.showChannels || _utils.settings.showServerGroup"
      class="obscure"
      (click)="
        _utils.settings.showChannels = false;
        _utils.settings.showServerGroup = false;
      "
    ></div>

    <mtd-chat></mtd-chat>

    <ng-container *ngIf="_ms.currentChannel">

      <mtd-channel-info *ngIf="_utils.settings.showServerGroup" @openRight></mtd-channel-info>

    </ng-container>


  </div>

</div>
